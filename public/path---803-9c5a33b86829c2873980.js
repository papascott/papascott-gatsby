webpackJsonp([93794021893028],{8933:function(e,t){e.exports={pathContext:{group:[{node:{fields:{title:"Creating an MT Import File from HTML",date:"23 Dec 2002",slug:"/2002-12-23-creating-an-mt-import-file-from-html/",tags:"Y2002"},html:'<p><a href="http://www.couchblog.de/couchblog/">Nico</a> recently trashed his Movable Type database. He had a backup, but it was old (from October), so he was missing about 200 entries. Knowing that I had trashed my database once or twice, he asked me for advice. </p>\n<p>200 entries is a bit too much to copy and paste, so I came up with a little perl script to create a <a href="http://www.movabletype.org/docs/mtimport.html">MT import file</a> from the HTML files of his individual entries. It\'s customized for Nico\'s template, but it might be a useful starting point for others stuck in the same situation.<br />\n<!--more--><br />\nNico\'s template was something like this:<br />\n&lt;div>&lt;h3>Title&lt;/h3><br />\nPost<br />\n&lt;a name="more"><br />\nMore post<br />\n&lt;/div></p>\n<p>So I was able to look for the title between the h3 tags, the body of the post between the title and the \'more\' anchor, the extended entry between the more anchor and the closing div tag, and so on. The category wasn\'t included, so I had to skip it. You\'ll need to adjust this logic to fit your template.</p>\n<p>The perl is pretty basic. I\'m using \'slurp mode\' to read in the entire HTML file into a variable, instead of reading the file line by line.  I\'m also in the habit of using | to delimit my regex, so they look like m|...| instead of the typical /.../. And when you return a regex in a list context, you get a list of the matches $1, $2, etc. So instead of \'$content =~ m|...|;$author=$1;\', I can put this one a single line as \'($author) =($content =~ m|...|);\'.</p>\n<p><code>#!/usr/bin/perl<br />\n# parse.pl - parse HTML files to import into Movable Type<br />\n# usage: parse.pl *html > output.txt<br />\n# Note: you _will_ need to adjust the regex and date conversion<br />\nwhile (&lt;>) { # for each file on the command line<br />\n# read in entire file to $content, line feeds and all<br />\n# using slurp mode<br />\n    { local $/; $content = &lt;>;}<br />\n# locate the fields we need using regex<br />\n# some matches may include newlines<br />\n    ($author) =($content =~ m|&lt;div class="posted">s+(.+?)s+/|s);<br />\n    ($title) = ($content =~ m|&lt;h3 class="title">(.+)&lt;/h3>|);<br />\n    ($text) =  ($content =~ m|&lt;/h3>s+(.+)s+&lt;a name="more">|s);<br />\n    ($more) =  ($content =~ m|&lt;a name="more">s+(.+)s+&lt;/div>|s);<br />\n    ($date) =  ($content =~ m|title="updated: (.+)" name="updated"|);<br />\n# convert the date to MM/DD/YYYY hh:mm:ss<br />\n    $date =~ s|([-d])02|${1}2002|;<br />\n    $date =~ tr|-,|/|d;<br />\n# printout the fields in the proper format<br />\n    print "AUTHOR: $authorn";<br />\n    print "TITLE: $titlen";<br />\n    print "DATE: $date:00n";<br />\n    print "-----n";<br />\n    print "BODY:n$textn";<br />\n    print "-----n";<br />\n    print "EXTENDED BODY:n$moren";<br />\n    print "</code></p>'},next:{fields:{title:"Christmas Garlic",date:"23 Dec 2002",slug:"/2002-12-23-christmas-garlic/"}},previous:{fields:{title:"Shopping List",date:"23 Dec 2002",slug:"/2002-12-23-shopping-list/"}}},{node:{fields:{title:"Christmas Garlic",date:"23 Dec 2002",slug:"/2002-12-23-christmas-garlic/",tags:"Y2002"},html:'<p><img alt="crhgarlic1202.jpg" src="http://www.papascott.de/wordpress/wp-content/uploads/2002/12/crhgarlic1202.jpg" width="325" height="244" border="0" /></p>\n<p>Mama is making muffins, but Christopher is more interested in the garlic press. In the interest of all concerned, Papa did not give Christopher any real garlic, but instead created play garlic with flour and water.</p>'},next:{fields:{title:"Chinese Beetles",date:"22 Dec 2002",slug:"/2002-12-22-chinese-beetles/"}},previous:{fields:{title:"Creating an MT Import File from HTML",date:"23 Dec 2002",slug:"/2002-12-23-creating-an-mt-import-file-from-html/"}}},{node:{fields:{title:"Chinese Beetles",date:"22 Dec 2002",slug:"/2002-12-22-chinese-beetles/",tags:"Y2002"},html:'<p><a title="Better Living Through Software" href="http://www.netcrucible.com/blog/2002/12/22.html#a264">Josh Allen</a> mentions all the German cars he noticed when visiting China, and <a title="The Scobleizer Weblog" href="http://radio.weblogs.com/0001011/2002/12/22.html#a1928">Scoble</a> comments on it as well. I\'m no Asian business expert, but I do pay attention to the news, and can point out a few random facts.</p>\n<p>The <a title="Ostasiatischer Verein e.V." href="http://www.oav.de/index.php3?t=e">German Asia-Pacific Business Association</a> is based in Hamburg and is extremely active developing business contacts in China and elsewhere in Asia. It was founded in 1900. Business relations with China are not a new thing in Germany.</p>\n<p>In 1984 Volkswagen signed a 50% 25-year joint venture with China. It was this year <a href="http://www.canadiandriver.com/news/020415-2.htm">extended</a> for an additional 20 years. I believe that the US Big 3 thought that 50% was too little control to be successful.</p>\n<p>Hamburg, Germany\'s largest port, is a sister city with Shanghai, China\'s largest port. The mayor visits Shanghai annually, with a large business delegation. 230 Chinese firms are located in Hamburg.</p>\n<p>In the end, I think German business is successful in China because, at least in regards to China,  Germans put business before politics. I don\'t think Americans would be able to do that.</p>'},next:{fields:{title:"Old Wine in New Bottles",date:"21 Dec 2002",slug:"/2002-12-21-old-wine-in-new-bottles/"}},previous:{fields:{title:"Christmas Garlic",date:"23 Dec 2002",slug:"/2002-12-23-christmas-garlic/"}}}],pathPrefix:"",first:!1,last:!1,index:803,pageCount:1101}}}});
//# sourceMappingURL=path---803-9c5a33b86829c2873980.js.map